{"ast":null,"code":"var _jsxFileName = \"/Users/ahmadbishara/Desktop/GameHub/frontend/src/pages/HomePage.js\";\nimport React, { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"../assests/HomePage.css\";\nimport { fetchXboxProfile, fetchPSNProfile, fetchSteamProfile } from \"../service/profileService\";\nimport { fetchXboxFriends } from \"../service/friendsService\";\nimport { getRecentGames } from \"../service/RecentGamesXbox\";\nimport { fetchRecentNews } from \"../service/NewsService\";\nimport { postNews } from \"../service/PostNewsService\";\n// import { FaDesktop, FaXbox, FaPlaystation, FaGamepad } from \"react-icons/fa\";\nimport { checkAccountType } from \"../utility/CheckAccountType\";\nimport { searchUserProfile } from \"../service/searchUserProfile\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass HomePage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      accountInfo: null,\n      platform: null,\n      isFetching: true,\n      friends: [],\n      isFetchingFriends: true,\n      recentGames: [],\n      isFetchingRecentGames: true,\n      recentNews: [],\n      isFetchingRecentNews: true,\n      searchQuery: \"\",\n      searchResult: null,\n      // holds partial or minimal user data\n      selectedUser: null // when you click the search result, store full detail here\n    };\n    this.navigateClips = () => {\n      this.props.navigate(\"/clips\");\n    };\n    this.navigateCommunity = () => {\n      this.props.navigate(\"/community\");\n    };\n    this.handleShareNews = async news => {\n      const contentText = `Check out this news: ${news.name}`;\n      const sharedNewsId = news.slug;\n      console.log(\"Sharing news with ID:\", sharedNewsId);\n      try {\n        const result = await postNews(contentText, sharedNewsId);\n        if (result.success) {\n          toast.success(\"News shared successfully.\");\n        } else {\n          toast.error(\"Failed to share news.\");\n        }\n      } catch (error) {\n        console.error(error);\n        toast.error(\"Failed to share news.\");\n      }\n    };\n    this.handleSearchUser = async () => {\n      const {\n        searchQuery\n      } = this.state;\n      if (!searchQuery) {\n        toast.error(\"Please enter a username to search.\");\n        return;\n      }\n      try {\n        const result = await searchUserProfile(searchQuery);\n        console.log(\"Search result:\", result);\n        if (result) {\n          this.setState({\n            searchResult: result,\n            selectedUser: null\n          });\n          toast.success(\"User found! Click the result to see details.\");\n        } else {\n          this.setState({\n            searchResult: null,\n            selectedUser: null\n          });\n          toast.error(\"User not found.\");\n        }\n      } catch (error) {\n        console.error(error);\n        toast.error(\"Failed to search user profile.\");\n      }\n    };\n    // Fetch recent news\n    this.fetchNews = async () => {\n      this.setState({\n        isFetchingRecentNews: true\n      });\n      try {\n        const news = await fetchRecentNews();\n        this.setState({\n          recentNews: news,\n          isFetchingRecentNews: false\n        });\n      } catch (error) {\n        console.error(error);\n        toast.error(\"Failed to fetch recent news.\");\n        this.setState({\n          isFetchingRecentNews: false\n        });\n      }\n    };\n  }\n  componentDidMount() {\n    this.fetchNews();\n    const platform = localStorage.getItem(\"platform\");\n    console.log(\"HomePage mounting with platform:\", platform);\n    if (!platform) {\n      toast.error(\"No platform selected. Please log in again.\");\n      window.location.href = \"/\";\n      return;\n    }\n    const profileFetchers = {\n      xbox: fetchXboxProfile,\n      psn: fetchPSNProfile,\n      steam: fetchSteamProfile\n    };\n    const fetchProfile = profileFetchers[platform];\n    if (!fetchProfile) {\n      toast.error(\"Unsupported platform. Please log in again.\");\n      window.location.href = \"/\";\n      return;\n    }\n    this.setState({\n      platform\n    });\n    const fetchAccountInfo = async () => {\n      console.log(`Fetching profile for platform: ${platform}`);\n      try {\n        const accountInfo = await fetchProfile();\n        console.log(\"Fetched account info:\", accountInfo);\n        this.setState({\n          accountInfo,\n          isFetching: false\n        });\n\n        // Fetch Xbox friends if the platform is Xbox\n        if (platform === \"xbox\") {\n          try {\n            const friends = await fetchXboxFriends();\n            console.log(\"Fetched friends:\", friends);\n            this.setState({\n              friends,\n              isFetchingFriends: false\n            });\n          } catch (error) {\n            console.error(error);\n            toast.error(\"Failed to fetch friends list.\");\n          }\n        }\n        try {\n          // fetch recent games\n          const recentGames = await getRecentGames();\n          this.setState({\n            recentGames,\n            isFetchingRecentGames: false\n          });\n        } catch (error) {\n          console.error(error);\n          toast.error(\"Failed to fetch recent games.\");\n        }\n      } catch (error) {\n        console.error(error);\n        localStorage.removeItem(\"platform\"); // Clear invalid platform\n        toast.error(\"Failed to fetch profile information.\");\n        window.location.href = \"/\";\n      }\n    };\n    fetchAccountInfo();\n  }\n  render() {\n    const {\n      accountInfo,\n      isFetching,\n      recentNews,\n      friends,\n      isFetchingFriends,\n      recentGames,\n      isFetchingRecentGames,\n      isFetchingRecentNews,\n      searchResult,\n      selectedUser,\n      searchQuery // make sure this is in your state\n    } = this.state;\n    if (isFetching) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading profile...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gamerhub\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"logo\",\n          children: \"GamerHUB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n          className: \"navbar\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"nav-button\",\n            children: \"NEWS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.navigateClips,\n            className: \"nav-button\",\n            children: \"CLIPS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.navigateCommunity,\n            className: \"nav-button\",\n            children: \"Community Insight\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-bar\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search User\",\n              className: \"search-input\",\n              value: searchQuery || \"\",\n              onChange: e => this.setState({\n                searchQuery: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.handleSearchUser,\n              className: \"nav-button\",\n              children: \"Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 15\n            }, this), searchResult && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"search-result-preview\",\n              onClick: () => this.setState({\n                selectedUser: searchResult\n              }),\n              style: {\n                cursor: \"pointer\",\n                display: \"flex\",\n                alignItems: \"center\",\n                marginTop: \"10px\",\n                border: \"1px solid #ccc\",\n                padding: \"8px\",\n                borderRadius: \"4px\",\n                background: \"#fafafa\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: searchResult.appDisplayPicRaw || \"/default-avatar.png\",\n                alt: \"User Avatar\",\n                style: {\n                  width: \"50px\",\n                  height: \"50px\",\n                  borderRadius: \"50%\",\n                  marginRight: \"10px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: searchResult.gamertag\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"account-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"gamertag-display\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: accountInfo.gamertag\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this), accountInfo && /*#__PURE__*/_jsxDEV(\"img\", {\n              src: accountInfo.appDisplayPicRaw,\n              alt: \"Profile\",\n              style: {\n                borderRadius: \"50%\",\n                width: \"50px\",\n                height: \"50px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [selectedUser && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-details\",\n          style: {\n            border: \"1px solid #ddd\",\n            padding: \"16px\",\n            margin: \"16px 0\",\n            borderRadius: \"4px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Xbox Profile Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Gamertag: \", selectedUser.gamertag]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Account Tier: \", selectedUser.accountTier]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Gamerscore: \", selectedUser.gamerscore]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Tenure Level: \", selectedUser.tenureLevel]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: selectedUser.gameDisplayPicRaw,\n            alt: \"Game Display\",\n            style: {\n              width: \"150px\",\n              height: \"150px\",\n              borderRadius: \"8px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"news-and-games\",\n            children: [/*#__PURE__*/_jsxDEV(\"section\", {\n              className: \"news-feed\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"News Feed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"content-box\",\n                children: isFetchingRecentNews ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Loading news...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 21\n                }, this) : recentNews.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"news-feed-container\",\n                  children: recentNews.map((news, index) => {\n                    var _news$genres, _news$short_screensho;\n                    return /*#__PURE__*/_jsxDEV(\"li\", {\n                      className: \"news-item\",\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        className: \"news-main-image\",\n                        src: news.background_image,\n                        alt: news.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 281,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"news-item-content\",\n                        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                          className: \"news-title\",\n                          children: news.name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 287,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"news-available-on\",\n                          children: [\"Available on:\", \" \", news.platforms && news.platforms.length > 0 ? checkAccountType([...new Set(news.platforms.map(p => p.platform.name.toLowerCase()))]) : \"N/A\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 288,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"news-extra-details\",\n                          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"news-release-date\",\n                            children: [\"Release Date: \", news.released]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 304,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"genres\",\n                            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                              children: (_news$genres = news.genres) === null || _news$genres === void 0 ? void 0 : _news$genres.map((genre, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n                                children: genre.name\n                              }, idx, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 310,\n                                columnNumber: 37\n                              }, this))\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 308,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 307,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                            className: \"share-button\",\n                            onClick: () => this.handleShareNews(news),\n                            children: \"Share to Community\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 314,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"screenshots-container\",\n                            children: (_news$short_screensho = news.short_screenshots) === null || _news$short_screensho === void 0 ? void 0 : _news$short_screensho.map((screenshot, idx) => /*#__PURE__*/_jsxDEV(\"img\", {\n                              className: \"screenshot-img\",\n                              src: screenshot.image,\n                              alt: `Screenshot ${idx + 1}`\n                            }, idx, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 322,\n                              columnNumber: 35\n                            }, this))\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 320,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 303,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 286,\n                        columnNumber: 27\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 280,\n                      columnNumber: 25\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"No news found.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n              className: \"recent-games\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Recent Games\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"content-box\",\n                children: isFetchingRecentGames ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Loading recent games...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 21\n                }, this) : recentGames.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"game-list\",\n                  children: recentGames.map((game, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"game-card\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: game.displayImage,\n                      alt: game.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 351,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"game-name\",\n                      children: game.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 352,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"game-info\",\n                      children: game.titleHistory.lastTimePlayedFormatted ? `Last Played: ${game.titleHistory.lastTimePlayedFormatted}` : \"Playtime not available\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 353,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"game-devices\",\n                      children: game.devices.length > 0 ? `Played on: ${game.devices.join(\", \")}` : \"No devices found\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 358,\n                      columnNumber: 27\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 350,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"No recent games found.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n            className: \"friends-list\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Friends\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"content-box\",\n              children: isFetchingFriends ? /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Loading friends...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 19\n              }, this) : friends.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"friends-list-container\",\n                children: friends.map((friend, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"friend-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"friend-avatar\",\n                    src: friend.displayPicRaw || \"/default-avatar.png\",\n                    alt: `Avatar of ${friend.gamertag}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"friend-details\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"friend-gamertag\",\n                      children: friend.gamertag\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 389,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"friend-realname\",\n                      children: friend.realName || \"Unknown\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 390,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"friend-presence\",\n                      children: friend.presenceState === \"Online\" ? /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          color: \"green\"\n                        },\n                        children: \"Online\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 395,\n                        columnNumber: 31\n                      }, this) : friend.presenceText || \"Offline\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 393,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 388,\n                    columnNumber: 25\n                  }, this), friend.isFavorite && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"favorite-icon\",\n                    children: \"\\u2605\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 401,\n                    columnNumber: 47\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"No friends found.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n        className: \"footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"About: Created by Ahmad Bishara\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"https://github.com/ahmadb123\",\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: \"GitHub: ahmadb123\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default HomePage;","map":{"version":3,"names":["React","Component","toast","useNavigate","fetchXboxProfile","fetchPSNProfile","fetchSteamProfile","fetchXboxFriends","getRecentGames","fetchRecentNews","postNews","checkAccountType","searchUserProfile","jsxDEV","_jsxDEV","HomePage","constructor","args","state","accountInfo","platform","isFetching","friends","isFetchingFriends","recentGames","isFetchingRecentGames","recentNews","isFetchingRecentNews","searchQuery","searchResult","selectedUser","navigateClips","props","navigate","navigateCommunity","handleShareNews","news","contentText","name","sharedNewsId","slug","console","log","result","success","error","handleSearchUser","setState","fetchNews","componentDidMount","localStorage","getItem","window","location","href","profileFetchers","xbox","psn","steam","fetchProfile","fetchAccountInfo","removeItem","render","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","type","placeholder","value","onChange","e","target","style","cursor","display","alignItems","marginTop","border","padding","borderRadius","background","src","appDisplayPicRaw","alt","width","height","marginRight","gamertag","margin","accountTier","gamerscore","tenureLevel","gameDisplayPicRaw","length","map","index","_news$genres","_news$short_screensho","background_image","platforms","Set","p","toLowerCase","released","genres","genre","idx","short_screenshots","screenshot","image","game","displayImage","titleHistory","lastTimePlayedFormatted","devices","join","friend","displayPicRaw","realName","presenceState","color","presenceText","isFavorite","rel"],"sources":["/Users/ahmadbishara/Desktop/GameHub/frontend/src/pages/HomePage.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"../assests/HomePage.css\";\nimport { fetchXboxProfile, fetchPSNProfile, fetchSteamProfile } from \"../service/profileService\";\nimport { fetchXboxFriends } from \"../service/friendsService\";\nimport { getRecentGames } from \"../service/RecentGamesXbox\";\nimport { fetchRecentNews } from \"../service/NewsService\";\nimport {postNews} from \"../service/PostNewsService\";\n// import { FaDesktop, FaXbox, FaPlaystation, FaGamepad } from \"react-icons/fa\";\nimport {checkAccountType} from \"../utility/CheckAccountType\";\nimport { searchUserProfile } from \"../service/searchUserProfile\";\nclass HomePage extends Component {\n  state = {\n    accountInfo: null,\n    platform: null,\n    isFetching: true,\n    friends: [],\n    isFetchingFriends: true,\n    recentGames: [],\n    isFetchingRecentGames: true,\n    recentNews: [],\n    isFetchingRecentNews: true,\n    searchQuery: \"\",\n    searchResult: null,   // holds partial or minimal user data\n    selectedUser: null,   // when you click the search result, store full detail here\n  };\n\n  navigateClips = () => {\n    this.props.navigate(\"/clips\");\n  };\n\n  navigateCommunity = () => {\n    this.props.navigate(\"/community\");\n  };\n\n\n  handleShareNews = async (news) =>{\n    const contentText = `Check out this news: ${news.name}`;\n    const sharedNewsId = news.slug;\n    console.log(\"Sharing news with ID:\", sharedNewsId);\n    try{\n      const result = await postNews(contentText, sharedNewsId);\n      if(result.success){\n        toast.success(\"News shared successfully.\");\n      }else{\n        toast.error(\"Failed to share news.\");\n      }\n    }catch(error){\n      console.error(error);\n      toast.error(\"Failed to share news.\");\n    }\n  };\n\n  handleSearchUser = async () => {\n    const { searchQuery } = this.state;\n    if (!searchQuery) {\n      toast.error(\"Please enter a username to search.\");\n      return;\n    }\n  \n    try {\n      const result = await searchUserProfile(searchQuery);\n      console.log(\"Search result:\", result);\n      \n      if (result) {\n        this.setState({ searchResult: result, selectedUser: null });\n  \n        toast.success(\"User found! Click the result to see details.\");\n      } else {\n        this.setState({ searchResult: null, selectedUser: null });\n        toast.error(\"User not found.\");\n      }\n    } catch (error) {\n      console.error(error);\n      toast.error(\"Failed to search user profile.\");\n    }\n  };\n  \n\n  componentDidMount() {\n    this.fetchNews();\n    const platform = localStorage.getItem(\"platform\");\n    console.log(\"HomePage mounting with platform:\", platform);\n\n    if (!platform) {\n      toast.error(\"No platform selected. Please log in again.\");\n      window.location.href = \"/\";\n      return;\n    }\n\n    const profileFetchers = {\n      xbox: fetchXboxProfile,\n      psn: fetchPSNProfile,\n      steam: fetchSteamProfile,\n    };\n\n    const fetchProfile = profileFetchers[platform];\n\n    if (!fetchProfile) {\n      toast.error(\"Unsupported platform. Please log in again.\");\n      window.location.href = \"/\";\n      return;\n    }\n\n    this.setState({ platform });\n\n    const fetchAccountInfo = async () => {\n      console.log(`Fetching profile for platform: ${platform}`);\n      try {\n        const accountInfo = await fetchProfile();\n        console.log(\"Fetched account info:\", accountInfo);\n        this.setState({ accountInfo, isFetching: false });\n\n        // Fetch Xbox friends if the platform is Xbox\n        if (platform === \"xbox\") {\n          try {\n            const friends = await fetchXboxFriends();\n            console.log(\"Fetched friends:\", friends);\n            this.setState({ friends, isFetchingFriends: false });\n          } catch (error) {\n            console.error(error);\n            toast.error(\"Failed to fetch friends list.\");\n          }\n        }\n        try {\n          // fetch recent games\n          const recentGames = await getRecentGames();\n          this.setState({ recentGames, isFetchingRecentGames: false });\n        } catch (error) {\n          console.error(error);\n          toast.error(\"Failed to fetch recent games.\");\n        }\n      } catch (error) {\n        console.error(error);\n        localStorage.removeItem(\"platform\"); // Clear invalid platform\n        toast.error(\"Failed to fetch profile information.\");\n        window.location.href = \"/\";\n      }\n    };\n    fetchAccountInfo();\n  }\n\n  // Fetch recent news\n  fetchNews = async () => {\n    this.setState({ isFetchingRecentNews: true });\n    try {\n      const news = await fetchRecentNews();\n      this.setState({ recentNews: news, isFetchingRecentNews: false });\n    } catch (error) {\n      console.error(error);\n      toast.error(\"Failed to fetch recent news.\");\n      this.setState({ isFetchingRecentNews: false });\n    }\n  };\n\n\n  render() {\n    const {\n      accountInfo,\n      isFetching,\n      recentNews,\n      friends,\n      isFetchingFriends,\n      recentGames,\n      isFetchingRecentGames,\n      isFetchingRecentNews,\n      searchResult,\n      selectedUser,\n      searchQuery, // make sure this is in your state\n    } = this.state;\n  \n    if (isFetching) {\n      return <p>Loading profile...</p>;\n    }\n  \n    return (\n      <div className=\"gamerhub\">\n        <header className=\"header\">\n          <h1 className=\"logo\">GamerHUB</h1>\n          <nav className=\"navbar\">\n            <button className=\"nav-button\">NEWS</button>\n            <button onClick={this.navigateClips} className=\"nav-button\">CLIPS</button>\n            <button onClick={this.navigateCommunity} className=\"nav-button\">Community Insight</button>\n            \n            {/* \n              Instead of putting the search input and preview inside the same button,\n              we can create a small search bar area:\n            */}\n            <div className=\"search-bar\">\n              <input\n                type=\"text\"\n                placeholder=\"Search User\"\n                className=\"search-input\"\n                value={searchQuery || \"\"}\n                onChange={(e) => this.setState({ searchQuery: e.target.value })}\n              />\n              <button onClick={this.handleSearchUser} className=\"nav-button\">\n                Search\n              </button>\n  \n              {/* If we have a searchResult, show a small preview. */}\n              {searchResult && (\n                <div \n                  className=\"search-result-preview\"\n                  onClick={() => this.setState({ selectedUser: searchResult })}\n                  style={{\n                    cursor: \"pointer\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    marginTop: \"10px\",\n                    border: \"1px solid #ccc\",\n                    padding: \"8px\",\n                    borderRadius: \"4px\",\n                    background: \"#fafafa\"\n                  }}\n                >\n                  <img\n                    src={searchResult.appDisplayPicRaw || \"/default-avatar.png\"}\n                    alt=\"User Avatar\"\n                    style={{ width: \"50px\", height: \"50px\", borderRadius: \"50%\", marginRight: \"10px\" }}\n                  />\n                  <span>{searchResult.gamertag}</span>\n                </div>\n              )}\n            </div>\n  \n            <div className=\"account-section\">\n              <div className=\"gamertag-display\">\n                <p>{accountInfo.gamertag}</p>\n              </div>\n              {accountInfo && (\n                <img\n                  src={accountInfo.appDisplayPicRaw}\n                  alt=\"Profile\"\n                  style={{ borderRadius: \"50%\", width: \"50px\", height: \"50px\" }}\n                />\n              )}\n            </div>\n          </nav>\n        </header>\n  \n        <div className=\"container\">\n          {/* If user clicked on the preview, show the 'selectedUser' details here */}\n          {selectedUser && (\n            <div\n              className=\"user-details\"\n              style={{\n                border: \"1px solid #ddd\",\n                padding: \"16px\",\n                margin: \"16px 0\",\n                borderRadius: \"4px\"\n              }}\n            >\n              <h2>Xbox Profile Details</h2>\n              <p>Gamertag: {selectedUser.gamertag}</p>\n              <p>Account Tier: {selectedUser.accountTier}</p>\n              <p>Gamerscore: {selectedUser.gamerscore}</p>\n              <p>Tenure Level: {selectedUser.tenureLevel}</p>\n              <img\n                src={selectedUser.gameDisplayPicRaw}\n                alt=\"Game Display\"\n                style={{ width: \"150px\", height: \"150px\", borderRadius: \"8px\" }}\n              />\n              {/* Add any other fields you want to show */}\n            </div>\n          )}\n  \n          <div className=\"main-content\">\n            <div className=\"news-and-games\">\n              {/* --- News Feed Section --- */}\n              <section className=\"news-feed\">\n                <h2>News Feed</h2>\n                <div className=\"content-box\">\n                  {isFetchingRecentNews ? (\n                    <p>Loading news...</p>\n                  ) : recentNews.length > 0 ? (\n                    <ul className=\"news-feed-container\">\n                      {recentNews.map((news, index) => (\n                        <li className=\"news-item\" key={index}>\n                          <img\n                            className=\"news-main-image\"\n                            src={news.background_image}\n                            alt={news.name}\n                          />\n                          <div className=\"news-item-content\">\n                            <h2 className=\"news-title\">{news.name}</h2>\n                            <p className=\"news-available-on\">\n                              Available on:{\" \"}\n                              {news.platforms && news.platforms.length > 0 ? (\n                                checkAccountType([\n                                  ...new Set(\n                                    news.platforms.map((p) =>\n                                      p.platform.name.toLowerCase()\n                                    )\n                                  ),\n                                ])\n                              ) : (\n                                \"N/A\"\n                              )}\n                            </p>\n  \n                            <div className=\"news-extra-details\">\n                              <p className=\"news-release-date\">\n                                Release Date: {news.released}\n                              </p>\n                              <div className=\"genres\">\n                                <ul>\n                                  {news.genres?.map((genre, idx) => (\n                                    <li key={idx}>{genre.name}</li>\n                                  ))}\n                                </ul>\n                              </div>\n                              <button\n                                className=\"share-button\"\n                                onClick={() => this.handleShareNews(news)}\n                              >\n                                Share to Community\n                              </button>\n                              <div className=\"screenshots-container\">\n                                {news.short_screenshots?.map((screenshot, idx) => (\n                                  <img\n                                    key={idx}\n                                    className=\"screenshot-img\"\n                                    src={screenshot.image}\n                                    alt={`Screenshot ${idx + 1}`}\n                                  />\n                                ))}\n                              </div>\n                            </div>\n                          </div>\n                        </li>\n                      ))}\n                    </ul>\n                  ) : (\n                    <p>No news found.</p>\n                  )}\n                </div>\n              </section>\n  \n              {/* --- Recent Games Section --- */}\n              <section className=\"recent-games\">\n                <h2>Recent Games</h2>\n                <div className=\"content-box\">\n                  {isFetchingRecentGames ? (\n                    <p>Loading recent games...</p>\n                  ) : recentGames.length > 0 ? (\n                    <div className=\"game-list\">\n                      {recentGames.map((game, index) => (\n                        <div className=\"game-card\" key={index}>\n                          <img src={game.displayImage} alt={game.name} />\n                          <div className=\"game-name\">{game.name}</div>\n                          <div className=\"game-info\">\n                            {game.titleHistory.lastTimePlayedFormatted\n                              ? `Last Played: ${game.titleHistory.lastTimePlayedFormatted}`\n                              : \"Playtime not available\"}\n                          </div>\n                          <div className=\"game-devices\">\n                            {game.devices.length > 0\n                              ? `Played on: ${game.devices.join(\", \")}`\n                              : \"No devices found\"}\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  ) : (\n                    <p>No recent games found.</p>\n                  )}\n                </div>\n              </section>\n            </div>\n  \n            {/* --- Friends List Section --- */}\n            <aside className=\"friends-list\">\n              <h2>Friends</h2>\n              <div className=\"content-box\">\n                {isFetchingFriends ? (\n                  <p>Loading friends...</p>\n                ) : friends.length > 0 ? (\n                  <ul className=\"friends-list-container\">\n                    {friends.map((friend, index) => (\n                      <li className=\"friend-item\" key={index}>\n                        <img\n                          className=\"friend-avatar\"\n                          src={friend.displayPicRaw || \"/default-avatar.png\"}\n                          alt={`Avatar of ${friend.gamertag}`}\n                        />\n                        <div className=\"friend-details\">\n                          <p className=\"friend-gamertag\">{friend.gamertag}</p>\n                          <p className=\"friend-realname\">\n                            {friend.realName || \"Unknown\"}\n                          </p>\n                          <p className=\"friend-presence\">\n                            {friend.presenceState === \"Online\" ? (\n                              <span style={{ color: \"green\" }}>Online</span>\n                            ) : (\n                              friend.presenceText || \"Offline\"\n                            )}\n                          </p>\n                        </div>\n                        {friend.isFavorite && <span className=\"favorite-icon\">★</span>}\n                      </li>\n                    ))}\n                  </ul>\n                ) : (\n                  <p>No friends found.</p>\n                )}\n              </div>\n            </aside>\n          </div>\n        </div>\n  \n        <footer className=\"footer\">\n          <p>About: Created by Ahmad Bishara</p>\n          <a\n            href=\"https://github.com/ahmadb123\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            GitHub: ahmadb123\n          </a>\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default HomePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}