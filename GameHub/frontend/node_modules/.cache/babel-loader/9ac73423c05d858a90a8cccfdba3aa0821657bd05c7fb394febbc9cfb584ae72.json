{"ast":null,"code":"const apiUrl = 'http://localhost:8080';\n\n// fetch news- \n\n// recent news for the homepage - \n// add another api to filter news  - \n// recent news for specific genres, games, platforms.\nexport const fetchRecentNews = async () => {\n  try {\n    const response = await fetch(`${apiUrl}/api/news/recent-news`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    if (!response.ok) {\n      throw new Error(`Failed to fetch recent news. Status: ${response.status}`);\n    }\n    const data = await response.json();\n    const flattened = data.flatMap(item => item.results || []);\n    return flattened;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\nexport const fetchAllNews = async () => {\n  try {\n    // include filter options - \n    let url = `${apiUrl}/api/news/all-news`;\n    const params = new URLSearchParams();\n    // if (platform) params.append(\"platform\", platform);\n    if (genre) params.append(\"genre\", genre);\n    if (params.toString()) {\n      url += \"?\" + params.toString();\n    }\n    const response = await fetch(url, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    if (!response.ok) {\n      throw new Error(`Failed to fetch all news. Status: ${response.status}`);\n    }\n    const data = await response.json();\n    const flattened = data.flatMap(item => item.results || []);\n    return flattened;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};","map":{"version":3,"names":["apiUrl","fetchRecentNews","response","fetch","method","headers","ok","Error","status","data","json","flattened","flatMap","item","results","error","console","fetchAllNews","url","params","URLSearchParams","genre","append","toString"],"sources":["/Users/ahmadbishara/Desktop/GameHub/frontend/src/service/NewsService.js"],"sourcesContent":["const apiUrl = 'http://localhost:8080';\n\n// fetch news- \n\n// recent news for the homepage - \n// add another api to filter news  - \n// recent news for specific genres, games, platforms.\nexport const fetchRecentNews = async () =>{\n    try{\n        const response = await fetch(`${apiUrl}/api/news/recent-news`, {\n            method: \"GET\",\n            headers : {\n                \"Content-Type\": \"application/json\",\n            },\n        });\n        if(!response.ok){\n            throw new Error(`Failed to fetch recent news. Status: ${response.status}`);\n        }\n        const data = await response.json();\n        const flattened = data.flatMap(item => item.results || []);\n        return flattened;   \n    }catch(error){\n        console.error(error);\n        throw error;\n    }\n};\n\nexport const fetchAllNews = async () => {\n    try{\n        // include filter options - \n        let url = `${apiUrl}/api/news/all-news`;\n        const params = new URLSearchParams();\n        // if (platform) params.append(\"platform\", platform);\n        if (genre) params.append(\"genre\", genre);\n        if (params.toString()) {\n          url += \"?\" + params.toString();\n        }\n        const response = await fetch(url, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n        });\n        if(!response.ok){\n            throw new Error(`Failed to fetch all news. Status: ${response.status}`);\n        }\n        const data = await response.json();\n        const flattened = data.flatMap(item => item.results || []);\n        return flattened;\n    }catch(error){\n        console.error(error);\n        throw error;\n    }\n};"],"mappings":"AAAA,MAAMA,MAAM,GAAG,uBAAuB;;AAEtC;;AAEA;AACA;AACA;AACA,OAAO,MAAMC,eAAe,GAAG,MAAAA,CAAA,KAAW;EACtC,IAAG;IACC,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGH,MAAM,uBAAuB,EAAE;MAC3DI,MAAM,EAAE,KAAK;MACbC,OAAO,EAAG;QACN,cAAc,EAAE;MACpB;IACJ,CAAC,CAAC;IACF,IAAG,CAACH,QAAQ,CAACI,EAAE,EAAC;MACZ,MAAM,IAAIC,KAAK,CAAC,wCAAwCL,QAAQ,CAACM,MAAM,EAAE,CAAC;IAC9E;IACA,MAAMC,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;IAClC,MAAMC,SAAS,GAAGF,IAAI,CAACG,OAAO,CAACC,IAAI,IAAIA,IAAI,CAACC,OAAO,IAAI,EAAE,CAAC;IAC1D,OAAOH,SAAS;EACpB,CAAC,QAAMI,KAAK,EAAC;IACTC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACpB,MAAMA,KAAK;EACf;AACJ,CAAC;AAED,OAAO,MAAME,YAAY,GAAG,MAAAA,CAAA,KAAY;EACpC,IAAG;IACC;IACA,IAAIC,GAAG,GAAG,GAAGlB,MAAM,oBAAoB;IACvC,MAAMmB,MAAM,GAAG,IAAIC,eAAe,CAAC,CAAC;IACpC;IACA,IAAIC,KAAK,EAAEF,MAAM,CAACG,MAAM,CAAC,OAAO,EAAED,KAAK,CAAC;IACxC,IAAIF,MAAM,CAACI,QAAQ,CAAC,CAAC,EAAE;MACrBL,GAAG,IAAI,GAAG,GAAGC,MAAM,CAACI,QAAQ,CAAC,CAAC;IAChC;IACA,MAAMrB,QAAQ,GAAG,MAAMC,KAAK,CAACe,GAAG,EAAE;MAC9Bd,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB;IACJ,CAAC,CAAC;IACF,IAAG,CAACH,QAAQ,CAACI,EAAE,EAAC;MACZ,MAAM,IAAIC,KAAK,CAAC,qCAAqCL,QAAQ,CAACM,MAAM,EAAE,CAAC;IAC3E;IACA,MAAMC,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;IAClC,MAAMC,SAAS,GAAGF,IAAI,CAACG,OAAO,CAACC,IAAI,IAAIA,IAAI,CAACC,OAAO,IAAI,EAAE,CAAC;IAC1D,OAAOH,SAAS;EACpB,CAAC,QAAMI,KAAK,EAAC;IACTC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACpB,MAAMA,KAAK;EACf;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}