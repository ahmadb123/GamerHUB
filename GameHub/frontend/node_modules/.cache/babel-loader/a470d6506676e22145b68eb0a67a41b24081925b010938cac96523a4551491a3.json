{"ast":null,"code":"import React, { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast, ToastContainer } from \"react-toastify\";\nconst apiUrl = 'http://localhost:8080';\nconst nav = useNavigate;\nexport const handleSteamLogin = async () => {\n  try {\n    const response = await fetch(`${apiUrl}/steam/login`, {\n      method: \"GET\",\n      credentials: \"include\"\n    });\n    if (!response.ok) {\n      throw new Error(`Failed to retrieve tokens. Status: ${response.status}`);\n    }\n    const data = await response.json();\n    // save steam Id for user - \n    localStorage.setItem(\"steamId\", data.steamId);\n    console.log(\"Steam login response:\", data);\n    if (data.redirectURL) {\n      localStorage.setItem(\"platform\", \"steam\");\n      window.location.href = data.redirectURL;\n    } else {\n      toast.error(\"Error during Steam login\");\n    }\n  } catch (error) {\n    toast.error(`Error during Steam login: ${error.message}`);\n  }\n};","map":{"version":3,"names":["React","useEffect","useNavigate","toast","ToastContainer","apiUrl","nav","handleSteamLogin","response","fetch","method","credentials","ok","Error","status","data","json","localStorage","setItem","steamId","console","log","redirectURL","window","location","href","error","message"],"sources":["/Users/ahmadbishara/Desktop/GameHub/frontend/src/service/SteamAuthService.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast, ToastContainer } from \"react-toastify\";\n\nconst apiUrl = 'http://localhost:8080';\n\nconst nav = useNavigate\nexport const handleSteamLogin = async () => {\n    try {\n        const response = await fetch(`${apiUrl}/steam/login`, {\n            method: \"GET\",\n            credentials: \"include\",\n        });\n        if (!response.ok) {\n            throw new Error(`Failed to retrieve tokens. Status: ${response.status}`);\n        }\n        const data = await response.json();\n        // save steam Id for user - \n        localStorage.setItem(\"steamId\", data.steamId);\n        console.log(\"Steam login response:\", data);\n        if (data.redirectURL) {\n            localStorage.setItem(\"platform\", \"steam\");\n            window.location.href = data.redirectURL;\n\n        } else {\n            toast.error(\"Error during Steam login\");\n        }\n    } catch (error) {\n        toast.error(`Error during Steam login: ${error.message}`);\n    }\n};"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,KAAK,EAAEC,cAAc,QAAQ,gBAAgB;AAEtD,MAAMC,MAAM,GAAG,uBAAuB;AAEtC,MAAMC,GAAG,GAAGJ,WAAW;AACvB,OAAO,MAAMK,gBAAgB,GAAG,MAAAA,CAAA,KAAY;EACxC,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGJ,MAAM,cAAc,EAAE;MAClDK,MAAM,EAAE,KAAK;MACbC,WAAW,EAAE;IACjB,CAAC,CAAC;IACF,IAAI,CAACH,QAAQ,CAACI,EAAE,EAAE;MACd,MAAM,IAAIC,KAAK,CAAC,sCAAsCL,QAAQ,CAACM,MAAM,EAAE,CAAC;IAC5E;IACA,MAAMC,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;IAClC;IACAC,YAAY,CAACC,OAAO,CAAC,SAAS,EAAEH,IAAI,CAACI,OAAO,CAAC;IAC7CC,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEN,IAAI,CAAC;IAC1C,IAAIA,IAAI,CAACO,WAAW,EAAE;MAClBL,YAAY,CAACC,OAAO,CAAC,UAAU,EAAE,OAAO,CAAC;MACzCK,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAGV,IAAI,CAACO,WAAW;IAE3C,CAAC,MAAM;MACHnB,KAAK,CAACuB,KAAK,CAAC,0BAA0B,CAAC;IAC3C;EACJ,CAAC,CAAC,OAAOA,KAAK,EAAE;IACZvB,KAAK,CAACuB,KAAK,CAAC,6BAA6BA,KAAK,CAACC,OAAO,EAAE,CAAC;EAC7D;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}