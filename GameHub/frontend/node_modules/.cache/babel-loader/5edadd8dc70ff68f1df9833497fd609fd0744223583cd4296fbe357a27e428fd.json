{"ast":null,"code":"const apiUrl = 'http://localhost:8080';\n\n// fetch news- \n\n// recent news for the homepage - \n// add another api to filter news  - \n// recent news for specific genres, games, platforms.\nexport const fetchRecentNews = async () => {\n  try {\n    const response = await fetch(`${apiUrl}/api/news/recent-news`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    if (!response.ok) {\n      throw new Error(`Failed to fetch recent news. Status: ${response.status}`);\n    }\n    const data = await response.json();\n    const flattened = data.flatMap(item => item.results || []);\n    return flattened;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\nexport const fetchAllNews = async (platform, genre) => {\n  try {\n    // include filter options - \n    let url = `${apiUrl}/api/news/all-news`;\n    const params = new URLSearchParams();\n    if (platform) params.append(\"platform\", platform);\n    if (genre) params.append(\"genre\", genre);\n    if (params.toString()) {\n      url += \"?\" + params.toString();\n    }\n    const response = await fetch(url, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    if (!response.ok) {\n      throw new Error(`Failed to fetch all news. Status: ${response.status}`);\n    }\n    const data = await response.json();\n    const flattened = data.flatMap(item => item.results || []);\n    return flattened;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\n\n// get all genres - \n\nexport const getGenres = async () => {\n  try {\n    const response = await fetch(`${apiUrl}/api/news/genres`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    if (!response.ok) {\n      throw new Error(`Failed to fetch genres. Status: ${response.status}`);\n    }\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\nexport const searchForGame = async searchGame => {\n  try {\n    const response = await fetch(`${apiUrl}/api/news/search?search=${searchGame}`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    if (!response.ok) {\n      throw new Error(`Failed to fetch search results. Status: ${response.status}`);\n    }\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};","map":{"version":3,"names":["apiUrl","fetchRecentNews","response","fetch","method","headers","ok","Error","status","data","json","flattened","flatMap","item","results","error","console","fetchAllNews","platform","genre","url","params","URLSearchParams","append","toString","getGenres","searchForGame","searchGame"],"sources":["/Users/ahmadbishara/Desktop/GameHub/frontend/src/service/NewsService.js"],"sourcesContent":["const apiUrl = 'http://localhost:8080';\n\n// fetch news- \n\n// recent news for the homepage - \n// add another api to filter news  - \n// recent news for specific genres, games, platforms.\nexport const fetchRecentNews = async () =>{\n    try{\n        const response = await fetch(`${apiUrl}/api/news/recent-news`, {\n            method: \"GET\",\n            headers : {\n                \"Content-Type\": \"application/json\",\n            },\n        });\n        if(!response.ok){\n            throw new Error(`Failed to fetch recent news. Status: ${response.status}`);\n        }\n        const data = await response.json();\n        const flattened = data.flatMap(item => item.results || []);\n        return flattened;   \n    }catch(error){\n        console.error(error);\n        throw error;\n    }\n};\n\nexport const fetchAllNews = async (platform , genre) => {\n    try{\n        // include filter options - \n        let url = `${apiUrl}/api/news/all-news`;\n        const params = new URLSearchParams();\n        if (platform) params.append(\"platform\", platform);\n        if (genre) params.append(\"genre\", genre);\n        if (params.toString()) {\n          url += \"?\" + params.toString();\n        }\n        const response = await fetch(url, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n        });\n        if(!response.ok){\n            throw new Error(`Failed to fetch all news. Status: ${response.status}`);\n        }\n        const data = await response.json();\n        const flattened = data.flatMap(item => item.results || []);\n        return flattened;\n    }catch(error){\n        console.error(error);\n        throw error;\n    }\n};\n\n// get all genres - \n\nexport const getGenres = async () => {\n    try{\n        const response = await fetch(`${apiUrl}/api/news/genres`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n        });\n        if(!response.ok){\n            throw new Error(`Failed to fetch genres. Status: ${response.status}`);\n        }\n        const data = await response.json();\n        return data;\n    }catch(error){\n        console.error(error);\n        throw error;\n    }\n};\n\nexport const searchForGame = async (searchGame) =>{\n    try{\n        const response = await fetch(`${apiUrl}/api/news/search?search=${searchGame}`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n        });\n        if(!response.ok){\n            throw new Error(`Failed to fetch search results. Status: ${response.status}`);\n        }\n        const data = await response.json();\n        return data;\n    }catch(error){\n        console.error(error);\n        throw error;\n    }\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}