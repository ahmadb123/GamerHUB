{"ast":null,"code":"{\n  /*\n  This function switches the user\n  account by updating user current platform\n  */\n}\n// SwitchUserAccount.js\nexport function switchUserAccount(platform, navigate) {\n  // 1. Check if we have the necessary tokens for the chosen platform\n  if (platform === \"xbox\") {\n    const xstsToken = localStorage.getItem(\"XSTS_token\");\n    const uhs = localStorage.getItem(\"uhs\");\n\n    // If missing tokens, force user to log in with Xbox first\n    if (!xstsToken || !uhs) {\n      // Your existing Xbox login function\n      // e.g. handleLogin() or window.location.href = \"/api/auth/login\"\n      console.log(\"No Xbox tokens found. Redirecting to Xbox login...\");\n      return;\n    }\n  } else if (platform === \"steam\") {\n    const steamId = localStorage.getItem(\"steamId\");\n\n    // If missing steamId, force user to log in with Steam first\n    if (!steamId) {\n      // Your existing Steam login function\n      // e.g. handleSteamLogin()\n      console.log(\"No Steam tokens found. Redirecting to Steam login...\");\n      return;\n    }\n  }\n\n  // 2. If tokens exist, update the 'platform' key and navigate\n  localStorage.setItem(\"platform\", platform);\n  navigate(\"/main\", {\n    replace: true\n  });\n}","map":{"version":3,"names":["switchUserAccount","platform","navigate","xstsToken","localStorage","getItem","uhs","console","log","steamId","setItem","replace"],"sources":["/Users/ahmadbishara/Desktop/GameHub/frontend/src/utility/SwitchUserAccount.js"],"sourcesContent":["{\n    /*\n    This function switches the user\n    account by updating user current platform\n    */\n}\n// SwitchUserAccount.js\nexport function switchUserAccount(platform, navigate) {\n    // 1. Check if we have the necessary tokens for the chosen platform\n    if (platform === \"xbox\") {\n      const xstsToken = localStorage.getItem(\"XSTS_token\");\n      const uhs = localStorage.getItem(\"uhs\");\n  \n      // If missing tokens, force user to log in with Xbox first\n      if (!xstsToken || !uhs) {\n        // Your existing Xbox login function\n        // e.g. handleLogin() or window.location.href = \"/api/auth/login\"\n        console.log(\"No Xbox tokens found. Redirecting to Xbox login...\");\n        return;\n      }\n    } else if (platform === \"steam\") {\n      const steamId = localStorage.getItem(\"steamId\");\n  \n      // If missing steamId, force user to log in with Steam first\n      if (!steamId) {\n        // Your existing Steam login function\n        // e.g. handleSteamLogin()\n        console.log(\"No Steam tokens found. Redirecting to Steam login...\");\n        return;\n      }\n    }\n  \n    // 2. If tokens exist, update the 'platform' key and navigate\n    localStorage.setItem(\"platform\", platform);\n    navigate(\"/main\", { replace: true });\n  }\n  "],"mappings":"AAAA;EACI;AACJ;AACA;AACA;AAHI;AAKJ;AACA,OAAO,SAASA,iBAAiBA,CAACC,QAAQ,EAAEC,QAAQ,EAAE;EAClD;EACA,IAAID,QAAQ,KAAK,MAAM,EAAE;IACvB,MAAME,SAAS,GAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC;IACpD,MAAMC,GAAG,GAAGF,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC;;IAEvC;IACA,IAAI,CAACF,SAAS,IAAI,CAACG,GAAG,EAAE;MACtB;MACA;MACAC,OAAO,CAACC,GAAG,CAAC,oDAAoD,CAAC;MACjE;IACF;EACF,CAAC,MAAM,IAAIP,QAAQ,KAAK,OAAO,EAAE;IAC/B,MAAMQ,OAAO,GAAGL,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;;IAE/C;IACA,IAAI,CAACI,OAAO,EAAE;MACZ;MACA;MACAF,OAAO,CAACC,GAAG,CAAC,sDAAsD,CAAC;MACnE;IACF;EACF;;EAEA;EACAJ,YAAY,CAACM,OAAO,CAAC,UAAU,EAAET,QAAQ,CAAC;EAC1CC,QAAQ,CAAC,OAAO,EAAE;IAAES,OAAO,EAAE;EAAK,CAAC,CAAC;AACtC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}